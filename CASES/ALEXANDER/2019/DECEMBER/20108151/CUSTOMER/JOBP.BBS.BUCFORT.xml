<?xml version="1.0" encoding="UTF-8"?>
<jobp>
   <metadata>
      <row>
         <version>12.3.1</version>
      </row>
   </metadata>
   <general_attributes>
      <row>
         <minimum_ae_version>11.2</minimum_ae_version>
         <archive_key1>MONATSABSCHLUSS</archive_key1>
         <archive_key2>BBS</archive_key2>
         <auto_deactivation>F</auto_deactivation>
         <child_flags>00000000000000000000000000000000</child_flags>
         <ert>1922</ert>
         <workflow_children>11</workflow_children>
         <last_runtimes>AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</last_runtimes>
         <max_parallel>1</max_parallel>
         <max_parallel_action>1</max_parallel_action>
         <mrt_time>000000</mrt_time>
         <name>JOBP.BBS.BUCFORT</name>
         <type>JOBP</type>
         <inherit_object_variables>1</inherit_object_variables>
         <inherit_output_filter>N</inherit_output_filter>
         <queue>CLIENT_QUEUE</queue>
         <description>Bucfort</description>
         <versioning_id>-213413319</versioning_id>
      </row>
   </general_attributes>
   <documentation>
      <row>
         <_WebConfig><![CDATA[<?xml version="1.0" encoding="ISO-8859-15" standalone="no"?><!DOCTYPE AB_VTR_NR [
<!ELEMENT AB_VTR_NR EMPTY >
<!ATTLIST AB_VTR_NR BESCHREIBUNG CDATA "Bei Eingabe Nummernkreis wird Paketgröße ignoriert" >
<!ATTLIST AB_VTR_NR PLAUSI CDATA "NNNN" >
<!ATTLIST AB_VTR_NR SEPPL CDATA "EIWP" >
<!ATTLIST AB_VTR_NR WERT CDATA "" >

<!ELEMENT BIS_VTR_NR EMPTY >
<!ATTLIST BIS_VTR_NR BESCHREIBUNG CDATA "" >
<!ATTLIST BIS_VTR_NR PLAUSI CDATA "NNNN" >
<!ATTLIST BIS_VTR_NR SEPPL CDATA "EIWP" >
<!ATTLIST BIS_VTR_NR WERT CDATA "" >

<!ELEMENT COMMIT EMPTY >
<!ATTLIST COMMIT BESCHREIBUNG CDATA "Commit" >
<!ATTLIST COMMIT PLAUSI CDATA "J/N" >
<!ATTLIST COMMIT SEPPL CDATA "EIW" >
<!ATTLIST COMMIT WERT CDATA "J" >

<!ELEMENT Content ( PARAMETER ) >

<!ELEMENT MANDANTEN EMPTY >
<!ATTLIST MANDANTEN BESCHREIBUNG CDATA "Diese Mandanten werden verarbeitet" >
<!ATTLIST MANDANTEN PLAUSI CDATA "01,02,20,21,54" >
<!ATTLIST MANDANTEN SEPPL CDATA "EIWP" >
<!ATTLIST MANDANTEN WERT CDATA "01,02,20,21,54" >

<!ELEMENT PAKETGROESSE EMPTY >
<!ATTLIST PAKETGROESSE BESCHREIBUNG CDATA "Anzahl Verträge pro Lauf" >
<!ATTLIST PAKETGROESSE PLAUSI CDATA "NNNN" >
<!ATTLIST PAKETGROESSE SEPPL CDATA "EIW" >
<!ATTLIST PAKETGROESSE WERT CDATA "500" >

<!ELEMENT PARAMETER ( UC4_DEPLOYMENT_TEST, MANDANTEN, SONDERLAUF, SONDER_CSV, TAGESDATUM, AB_VTR_NR, BIS_VTR_NR, VTR_NR_LISTE, PAKETGROESSE, COMMIT, PROT_VTR_FILTER_BEA, PROT_MSG_TYPE_BEA ) >

<!ELEMENT PROT_MSG_TYPE_BEA EMPTY >
<!ATTLIST PROT_MSG_TYPE_BEA BESCHREIBUNG CDATA "Stufe der Protokollierung in der Datenbank" >
<!ATTLIST PROT_MSG_TYPE_BEA PLAUSI CDATA "INFO/WARN/ERROR/NONE" >
<!ATTLIST PROT_MSG_TYPE_BEA SEPPL CDATA "EIWP" >
<!ATTLIST PROT_MSG_TYPE_BEA WERT CDATA "WARN" >

<!ELEMENT PROT_VTR_FILTER_BEA EMPTY >
<!ATTLIST PROT_VTR_FILTER_BEA BESCHREIBUNG CDATA "Stufe der Protokollierung in der Datenbank" >
<!ATTLIST PROT_VTR_FILTER_BEA PLAUSI CDATA "OK/AUSSCHL/ERROR/NONE" >
<!ATTLIST PROT_VTR_FILTER_BEA SEPPL CDATA "EIWP" >
<!ATTLIST PROT_VTR_FILTER_BEA WERT CDATA "AUSSCHL" >

<!ELEMENT SONDERLAUF EMPTY >
<!ATTLIST SONDERLAUF BESCHREIBUNG CDATA "Nur Liste ablaufender Verträge" >
<!ATTLIST SONDERLAUF PLAUSI CDATA "J/N" >
<!ATTLIST SONDERLAUF SEPPL CDATA "EIW" >
<!ATTLIST SONDERLAUF WERT CDATA "N" >

<!ELEMENT SONDER_CSV EMPTY >
<!ATTLIST SONDER_CSV BESCHREIBUNG CDATA "CSV Dateien müssen im input Ordner abgelegt werden: &quot;filerpath&quot;\input\&quot;BATCHNAME&quot;" >
<!ATTLIST SONDER_CSV PLAUSI CDATA "J/N" >
<!ATTLIST SONDER_CSV SEPPL CDATA "EIW" >
<!ATTLIST SONDER_CSV WERT CDATA "N" >

<!ELEMENT TAGESDATUM EMPTY >
<!ATTLIST TAGESDATUM BESCHREIBUNG CDATA "Für Zeitreise" >
<!ATTLIST TAGESDATUM PLAUSI CDATA "JJJJMMTT" >
<!ATTLIST TAGESDATUM SEPPL CDATA "EIW" >
<!ATTLIST TAGESDATUM WERT CDATA "" >

<!ELEMENT UC4_DEPLOYMENT_TEST EMPTY >
<!ATTLIST UC4_DEPLOYMENT_TEST BESCHREIBUNG CDATA "" >
<!ATTLIST UC4_DEPLOYMENT_TEST PLAUSI CDATA "J/N" >
<!ATTLIST UC4_DEPLOYMENT_TEST SEPPL CDATA "E" >
<!ATTLIST UC4_DEPLOYMENT_TEST WERT CDATA "N" >

<!ELEMENT VTR_NR_LISTE EMPTY >
<!ATTLIST VTR_NR_LISTE BESCHREIBUNG CDATA "VTR_NR Vorgabe via Datei (je Mandant eine Datei z.B. &quot;01xxxx.txt&quot; in &quot;filerpath&quot;\input\&quot;BATCHNAME&quot;)" >
<!ATTLIST VTR_NR_LISTE PLAUSI CDATA "FREITEXT" >
<!ATTLIST VTR_NR_LISTE SEPPL CDATA "EIW" >
<!ATTLIST VTR_NR_LISTE WERT CDATA "" >

]>
<Content>
<PARAMETER>
<UC4_DEPLOYMENT_TEST BESCHREIBUNG="" PLAUSI="J/N" SEPPL="E" WERT="N"/>
<MANDANTEN BESCHREIBUNG="Diese Mandanten werden verarbeitet" PLAUSI="01,02,20,21,54" SEPPL="EIWP" WERT="01,02,20,21,54"/>
<SONDERLAUF BESCHREIBUNG="Nur Liste ablaufender Verträge" PLAUSI="J/N" SEPPL="EIW" WERT="N"/>
<SONDER_CSV BESCHREIBUNG="CSV Dateien müssen im input Ordner abgelegt werden: &quot;filerpath&quot;\input\&quot;BATCHNAME&quot;" PLAUSI="J/N" SEPPL="EIW" WERT="N"/>
<TAGESDATUM BESCHREIBUNG="Für Zeitreise" PLAUSI="JJJJMMTT" SEPPL="EIW" WERT=""/>
<AB_VTR_NR BESCHREIBUNG="Bei Eingabe Nummernkreis wird Paketgröße ignoriert" PLAUSI="NNNN" SEPPL="EIWP" WERT=""/>
<BIS_VTR_NR BESCHREIBUNG="" PLAUSI="NNNN" SEPPL="EIWP" WERT=""/>
<VTR_NR_LISTE BESCHREIBUNG="VTR_NR Vorgabe via Datei (je Mandant eine Datei z.B. &quot;01xxxx.txt&quot; in &quot;filerpath&quot;\input\&quot;BATCHNAME&quot;)" PLAUSI="FREITEXT" SEPPL="EIW" WERT=""/>
<PAKETGROESSE BESCHREIBUNG="Anzahl Verträge pro Lauf" PLAUSI="NNNN" SEPPL="EIW" WERT="500"/>
<COMMIT BESCHREIBUNG="Commit" PLAUSI="J/N" SEPPL="EIW" WERT="J"/>
<PROT_VTR_FILTER_BEA BESCHREIBUNG="Stufe der Protokollierung in der Datenbank" PLAUSI="OK/AUSSCHL/ERROR/NONE" SEPPL="EIWP" WERT="AUSSCHL"/>
<PROT_MSG_TYPE_BEA BESCHREIBUNG="Stufe der Protokollierung in der Datenbank" PLAUSI="INFO/WARN/ERROR/NONE" SEPPL="EIWP" WERT="WARN"/>
</PARAMETER>
</Content>
]]></_WebConfig>
      </row>
   </documentation>
   <scripts>
      <row>
         <process><![CDATA[! BBS Standart-Include zum setzen von Variablen für aufgerufene Jobs
:INC JOBI.BBS.JOBPDEFAULTS
!Sync Objekt nur in der P Ebene verwenden und nur wenn durch einen Jobplan gestartet.
!Falls nicht wird überprüft, ob das Sync Objekt den erwarteten Wert hat und gibt eine Warnung aus, falls nicht.
:IF &IDT# = "P"
:  SET &ParentType# = SYS_ACT_PARENT_TYPE(ACT)
:  IF &ParentType# <> "USER"
!    Sync wird bei Bucfort-Abbruch wieder auf Status "ENDE_BORDEROEX" zurück gesetzt, damit ein Wiederanlauf möglich ist
:    ATTACH_SYNC &ME_RUNNR#,"SYNC.BBS.BUCFORT","START_BUCFORT","ENDE_BORDEROEX","ENDE_BUCFORT","W"
:  ELSE
:    SET &CurrentSyncValue# = GET_SYNC("SYNC.BBS.BUCFORT","STATE")
:    IF &CurrentSyncValue# <> "BORDEROEX_BEENDET"
:      BEGINREAD
:      PRINT "Sync Status is nicht wie erwartet: &CurrentSyncValue# !!!", ""
:      PRINT "OK um Jobplan trotzdem laufen zu lassen.", ""
:      ENDREAD
:    ENDIF
:  ENDIF
:ENDIF
! ---------------------------------------------
! Weitere Variablenbelegung
!
! ---------------------------------------------
!**********GeneratedText, Do Not Change**********
:SET &pttyp# = SYS_ACT_PTTYP()
!Eintragen der READ Befehle
:BEGINREAD
:IF &pttyp# = "D"
:  PRINT "", "Bei Start via GUI wird die Eingabe der Startzeit unterdrückt"
:ELSE
:  READ &START#,,"START [JJJJ-MM-TT HH:MM:SS]",'',K
:ENDIF
:READ &UC4_DEPLOYMENT_TEST#,,"UC4_DEPLOYMENT_TEST [J/N]",'N',K
:READ &MANDANTEN#,,"MANDANTEN [01,02,20,21,54]",'01,02,20,21,54',K
:READ &SONDERLAUF#,,"SONDERLAUF [J/N]",'N',K
:READ &SONDER_CSV#,,"SONDER_CSV [J/N]",'N',K
:READ &TAGESDATUM#,,"TAGESDATUM [JJJJMMTT]",'',K
:READ &AB_VTR_NR#,,"AB_VTR_NR [NNNN]",'',K
:READ &BIS_VTR_NR#,,"BIS_VTR_NR [NNNN]",'',K
:READ &VTR_NR_LISTE#,,"VTR_NR_LISTE [FREITEXT]",'',K
:READ &PAKETGROESSE#,,"PAKETGROESSE [NNNN]",'500',K
:READ &COMMIT#,,"COMMIT [J/N]",'J',K
:READ &PROT_VTR_FILTER_BEA#,,"PROT_VTR_FILTER_BEA [OK/AUSSCHL/ERROR/NONE]",'AUSSCHL',K
:READ &PROT_MSG_TYPE_BEA#,,"PROT_MSG_TYPE_BEA [INFO/WARN/ERROR/NONE]",'WARN',K
:ENDREAD

!Eintragen der PSET Befehle
:PSET &START# = &START#
:PSET &UC4_DEPLOYMENT_TEST# = &UC4_DEPLOYMENT_TEST#
:PSET &MANDANTEN# = &MANDANTEN#
:PSET &SONDERLAUF# = &SONDERLAUF#
:PSET &SONDER_CSV# = &SONDER_CSV#
:PSET &TAGESDATUM# = &TAGESDATUM#
:PSET &AB_VTR_NR# = &AB_VTR_NR#
:PSET &BIS_VTR_NR# = &BIS_VTR_NR#
:PSET &VTR_NR_LISTE# = &VTR_NR_LISTE#
:PSET &PAKETGROESSE# = &PAKETGROESSE#
:PSET &COMMIT# = &COMMIT#
:PSET &PROT_VTR_FILTER_BEA# = &PROT_VTR_FILTER_BEA#
:PSET &PROT_MSG_TYPE_BEA# = &PROT_MSG_TYPE_BEA#
!**************End of GeneratedText**************
:IF &TAGESDATUM# = ""
:  SET  &SQLDAT_JJJJMMTT# = SYS_LDATE("JJJJMMTT")
:  SET  &SQLDAT_JJJJMM#   = STR_CUT(&SQLDAT_JJJJMMTT#, 1, 6)
:  PSET &SQLDAT#         = "&SQLDAT_JJJJMM#31"
:ELSE
:  PSET &SQLDAT# = &TAGESDATUM#
:ENDIF

]]></process>
      </row>
   </scripts>
   <workflow_attributes>
      <row>
      </row>
   </workflow_attributes>
   <workflow_definitions>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>1</column>
         <line_number>1</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>START</object_name>
         <object_type><![CDATA[<START>]]></object_type>
         <row>1</row>
         <precondition_error_action>S</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>2</column>
         <line_number>2</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBS.BBS.BEGINWORKFLOW</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <row>1</row>
         <precondition_error_action>X</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>3</column>
         <line_number>3</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBS.BBS.BUCFORT_STATUS</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>1</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>3</column>
         <line_number>4</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>SCRI.BBS.BUCFORT_NUMMKR</object_name>
         <object_type>SCRI</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>2</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>4</column>
         <line_number>5</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBG.BBS.BUCFORT_NUMMKR</object_name>
         <object_type>JOBG</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>2</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>5</column>
         <line_number>6</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBG.BBS.BUCFORT_BUCFORT</object_name>
         <object_type>JOBG</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>2</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>3</column>
         <line_number>7</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBS.BBS.BUCFORT_MERGE</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>3</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>4</column>
         <line_number>8</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBS.BBS.BUCFORT_PROTCONVERT</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>3</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>5</column>
         <line_number>9</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBS.BBS.BUCFORT_STATUS</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>3</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>5</column>
         <line_number>10</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>JOBS.BBS.FINISHWORKFLOW</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>4</row>
         <precondition_error_action>H</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>6</column>
         <line_number>11</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>END</object_name>
         <object_type><![CDATA[<END>]]></object_type>
         <predecessors>1</predecessors>
         <row>4</row>
         <precondition_error_action>X</precondition_error_action>
      </row>
   </workflow_definitions>
   <line_conditions>
      <row>
         <workflow_line_number>2</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>1</predecessor_line_number>
         <ok_status>ENDED_OK_OR_INACTIV</ok_status>
      </row>
      <row>
         <workflow_line_number>3</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>2</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>4</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>3</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>5</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>4</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>6</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>5</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>7</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>6</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>8</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>7</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>9</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>8</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>10</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>9</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>11</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>10</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
   </line_conditions>
   <rollback_definitions>
      <row>
      </row>
   </rollback_definitions>
</jobp>
