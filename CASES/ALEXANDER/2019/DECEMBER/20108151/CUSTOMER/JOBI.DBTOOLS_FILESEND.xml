<?xml version="1.0" encoding="UTF-8"?>
<jobi>
   <metadata>
      <row>
         <version>12.3.1</version>
      </row>
   </metadata>
   <general_attributes>
      <row>
         <minimum_ae_version>11.2</minimum_ae_version>
         <child_flags>00000000000000000000000000000000</child_flags>
         <last_runtimes>AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</last_runtimes>
         <name>JOBI.DBTOOLS_FILESEND</name>
         <type>JOBI</type>
         <description>File Transfer vom ORACLE-SERVER zum Batchserver</description>
         <versioning_id>-1036797955</versioning_id>
      </row>
   </general_attributes>
   <scripts>
      <row>
         <process><![CDATA[! -------------------------------------------------------------------------
! [&SRC_HOST#/&FT_SRC_FILE#] ---> [&DST_HOST#/&FT_DST_FILE#]
! -------------------------------------------------------------------------
! Transfer vom HOST des aufrufenden Jobs [&SRC_HOST#] zu einem entfernten
! Server [&DST_HOST#]. Bei &DST_HOST# kann es sich um einen HOST oder um eine
! Host-Gruppe handeln!
! -------------------------------------------------------------------------
! Folgende Variablen muessen gesetzt werden:
! &DST_HOST#
! &FT_SRC_FILE# (mit Pfad - voll qualifiziert!)
! &FT_DST_FILE# (mit Pfad - voll qualifiziert!)
! -------------------------------------------------------------------------
:PRINT ""
:PRINT "[START JOBI.DBTOOLS_FILESEND]=============================="
:RSET &SPIELART# = "MODUS"
! -----------------
! Ziel Defaultwert:
! -----------------
:SET &DST_HOST# = &DST_HOST#
:IF &DST_HOST# = ""
:  SET &DST_HOST# = "HG.RH6_BATCH"
:ENDIF
! ------------
! Ziel prÃ¼fen:
! ------------
:SET &HND# = PREP_PROCESS_AGENTGROUP("&DST_HOST#", , BY_RULE,)
:PROCESS &HND#
:  SET &BRO_HOST# = GET_PROCESS_LINE(&HND#, 1)
:  SET &STATUS# = GET_PROCESS_LINE(&HND#, 2)
:ENDPROCESS
:CLOSE_PROCESS &HND#
! ------------------
! Keine HOST-Gruppe:
! ------------------
:IF &BRO_HOST# = ""
:  PRINT "&DST_HOST# ist keine Hostgruppe ..."
:  SET &BRO_HOST# = &DST_HOST#
:ENDIF
! -----
! Ziel:
! -----
:PSET &DST_HOST# = &BRO_HOST#
:PSET &FT_DST_FILE# = &FT_DST_FILE#
! -------
! Quelle:
! -------
:PSET &SRC_HOST# = GET_ATT(HOST)
:PSET &FT_SRC_FILE# = &FT_SRC_FILE#
! -------------
! Login-Objekt:
! -------------
:RSET &FT_LOGIN# = GET_ATT(LOGIN)
:PRINT ""
:PRINT ">>> LOGIN:  &FT_LOGIN#"
:PRINT "    QUELLE: &SRC_HOST#[&FT_SRC_FILE#]"
:PRINT "    ZIEL:   &DST_HOST#[&FT_DST_FILE#]"
:PRINT "    VARIANTE:  &SPIELART#"
:PRINT ""
! ---------
! Transfer:
! ---------
:SET &RUN_OBJECT# = "JOBF.ALL.DBTOOLS_FILETRANS"
:INC JOBI.RUN_OBJECT_PASS_VALUES_WAIT
:PRINT "===============================[ENDE JOBI.DBTOOLS_FILESEND]"
:PRINT ""
]]></process>
      </row>
   </scripts>
</jobi>
